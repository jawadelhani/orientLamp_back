spring.application.name=orientLamp_back

# Database Configuration - PostgreSQL (Supabase in prod, local postgres in dev)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/orientlamp_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:2020}
spring.datasource.driver-class-name=org.postgresql.Driver

# Flyway Configuration (disabled)
# spring.flyway.enabled=true
# spring.flyway.baseline-on-migrate=true
# spring.flyway.locations=classpath:db/migration
# spring.flyway.baseline-version=0
spring.flyway.enabled=false

# JPA / Hibernate - IMPORTANT: Use 'validate' not 'update' when using Flyway
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Redis Configuration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.password=${SPRING_DATA_REDIS_PASSWORD:}
spring.data.redis.ssl.enabled=${SPRING_DATA_REDIS_SSL_ENABLED:false}
spring.data.redis.timeout=60000
# Disable Redis key-value repositories so Hibernate manages ALL entities (prevents CritereRepository being claimed by Redis)
spring.data.redis.repositories.enabled=false

# Mail Configuration (Gmail)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# JWT Configuration
jwt.secret=your-256-bit-secret-key-change-this-in-production
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Email Verification
email.verification.expiration=900
email.verification.from=noreply@yourapp.com

# Server Configuration
server.port=8080

# Gemini AI
gemini.api.key=${GEMINI_API_KEY:}

# Groq AI
groq.api.key=${GROQ_API_KEY:}

# File Upload â€” local filesystem (override in production to point at cloud storage)
app.upload.dir=./uploads
app.base-url=http://localhost:8080

# Multipart limits (increase if you need larger logos)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=6MB